<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>SynchroBots 통합 관제 대시보드</title>

  <!-- Flask로 쓸 때 -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">

 
</head>
<body>
  <div class="page">
    <!-- 상단 헤더 -->
    <header class="header">
      <div>
        <div class="header-title">SynchroBots 통합 관제 대시보드</div>
        <div class="header-sub">AGV · RobotArm · PLC · 이벤트 · 제어 로그</div>
      </div>
      <span class="badge">DEMO · MOCK DATA</span>
    </header>

    <!-- 메인 레이아웃 -->
    <main class="content">
      <!-- 좌측 컬럼: 맵 + 미션 -->
      <section class="left-column">
        <!-- AGV 맵 카드 -->
        <section class="card card-map">
          <div class="card-header">
            <div>
              <div class="card-title">AGV 네비게이션 맵</div>
              <div class="card-sub">경로 · 체크포인트 · 현재 위치 · 이탈 지점</div>
            </div>
            <!-- AGV 네비게이션 맵 카드 내부 -->

            <span class="pill">Layer: map / path / robot</span>
          </div>

          <div class="agv-map">
            <div class="agv-map-wrap">
              <div class="agv-map-bg" id="agv-map-bg"></div>
            </div>
            <div class="map-grid"></div>
            <div class="agv-path">

            </div>
          </div>

          <div class="chip-row">
            <span class="chip">AGV #01 · RUNNING</span>
            <span class="chip">목적지: ST-03</span>
            <span class="chip">예상 도착: 02:13</span>
          </div>

          <div class="status-list" id="agv-status-list">

          </div>
        </section>
        <!-- 요약 차트 -->
        <section class="card card-summary">
          <div class="card-header">
            <div>
              <div class="card-title">물류 분류 · 적재 성능 요약</div>
              <div class="card-sub">분류 수량(막대) · 적재 성공률(선)</div>
            </div>
            <span class="pill">최근 1시간 · Mock</span>
          </div>

          <div class="chart-col">
            <div class="chart-box">
              <div class="card-sub chart-caption">카테고리별 분류 수량</div>
              <canvas id="classifyChart" height="100"></canvas>
            </div>
            <div class="chart-box">
              <div class="card-sub chart-caption">적재 성공률 추이</div>
              <canvas id="successChart" height="100"></canvas>
            </div>
          </div>
        </section>
        
      </section>

      <!-- 우측 컬럼: 차트 + 이벤트 로그 + 제어 로그 -->
      <section class="right-column">

        <!-- 미션 / 작업 로그 카드 -->
        <section class="card card-mission">
          <div class="card-header">
            <div>
              <div class="card-title">미션 · 작업 로그 (mission_logs)</div>
              <div class="card-sub">진행 중 / 최근 완료된 미션 현황</div>
            </div>
            <span class="pill">최근 5건</span>
          </div>

          <div class="mission-list" id="mission-list"></div>
        </section>

        <!-- 이벤트 로그 -->
        <section class="card card-events">
          <div class="card-header">
            <div>
              <div class="card-title">이벤트 로그 (events_log)</div>
              <div class="card-sub">AGV · Robot · PLC 주요 이벤트</div>
            </div>
            <span class="pill">최근 10건</span>
          </div>

          <div class="log-table" id="events-table">
            <div class="log-header">
              <span>시간</span>
              <span>장비</span>
              <span>TYPE</span>
              <span>LEVEL</span>              
              <span>내용</span>
            </div>
          </div>
        </section>

        <!-- 제어 명령 로그 -->
        <section class="card card-control">
          <div class="card-header">
            <div>
              <div class="card-title">제어 명령 로그 (control_logs)</div>
              <div class="card-sub">Web → API → 장비로 전송된 명령 이력</div>
            </div>
            <span class="pill">최근 10건</span>
          </div>

          <div class="log-table" id="control-table">
            <div class="log-header">
              <span>시간</span>
              <span>장비</span>
              <span>출처/대상</span>
              <span>결과</span>
              <span>명령내용</span>
            </div>
          </div>
        </section>
      </section>
    </main>
  </div>

   <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <!-- dashboard JS -->
  <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>
